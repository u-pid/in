<!-- 경고: 귀하가 무단 수집하려는 사이트의 핵심 데이터는 본 오픈소스에 포함되지 않습니다. 본 사이트의 무단 소스 코드 데이터 수집(크롤링, 스크래핑 등)행위는 서버 접근 로그에 기기의 IP와 함께 기록됩니다. 허용된 관리자 인터페이스를 제외한 IP가 데이터를 수집하는 행위는 적발 즉시 밴블리온 운영 정책에 따른 IP 유포와 유저 정보 공개 등 상응한 제재가 이루어질 수 있습니다. -->

<!DOCTYPE html>
<html lang="ko">
<head>
  <link rel="icon" type="image/png" href="favicon.png">
  <meta charset="UTF-8">
  <title>유피드 밴블리온</title>
  <style>
    /* -------------------------
       기본 안정화 (수정 포인트)
       ------------------------- */
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; padding: 0; background-color: #1c1c1c; color: #fff; font-family: Arial, sans-serif; -webkit-font-smoothing:antialiased; }

    /* 전체 내용 폭을 제어하는 공통 클래스:
       데스크톱에선 넓이 제한(max-width), 모바일에선 100%로 동작 */
    .site-content {
      width: 100%;
      max-width: 970px;
      margin: 0 auto;
      padding: 0 12px;
    }

    /* 헤더 */
    header {
      background-color: #003d80;
      color: white;
      padding: 11px 25px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header .logo { font-size: 19.8px; font-weight: bold; }
    header .auth-buttons a { color: white; text-decoration: none; margin-left: 15px; font-weight: bold; font-size: 15.4px; transition: color .3s; cursor:pointer; }
    header .auth-buttons a:hover { color: #ffcc00; }

    /* 공지 */
    .notice-box { margin: 15px auto 0 auto; text-align: left; font-size: 15.4px; font-weight: bold; color: #ffae42; }

    /* 슬라이더 */
    .slider { position: relative; margin: 10px auto; height: 275px; overflow: hidden; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); background:#101010; }
    .slides { display:flex; width:100%; height:100%; transition: transform .6s ease-in-out; }
    .slides img { flex: 0 0 100%; width:100%; height:100%; object-fit:cover; display:block; max-width:100%; }
    .dots { text-align:center; margin-top:10px; }
    .dot { height:10px; width:10px; margin:0 4px; background:#bbb; border-radius:50%; display:inline-block; cursor:pointer; }
    .dot.active { background:#003d80; }

    /* ============================
       커뮤니티 레이아웃(좌-중-우)
       ============================ */
    .community-section {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 20px;
      margin: 25px auto 0 auto;
      flex-wrap: nowrap; /* 데스크톱/모바일 모두 가로 정렬 기본 (모바일에서 사이드바 축소로 중앙 보존) */
      box-sizing: border-box;
    }

    .community-box {
      background-color: #242424;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.4);
      flex: 0 0 180px;
      max-width: 220px;
      min-width: 120px;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      box-sizing: border-box;
      transition: flex-basis .18s, max-width .18s, padding .15s;
    }

    .middle-column {
      flex: 1 1 auto;
      min-width: 0;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      gap: 16px;
      box-sizing: border-box;
    }

    .community-title { font-size:18px; font-weight:bold; margin-bottom:10px; color:#ffae42; word-break:keep-all; overflow-wrap:normal; white-space:normal; }
    .community-list { list-style:none; padding:0; margin:0; width:100%; word-break:keep-all; }
    .community-list li { margin:8px 0; line-height:1.4; }
    .community-list a { color:#ddd; text-decoration:none; font-size:16px; transition:color .3s; display:block; }
    .community-list a:hover { color:#ffae42; }

    /* icon-buttons */
    .icon-buttons {
      width: 100%;
      display:flex;
      justify-content: space-between;
      align-items: flex-start;
      padding: 0 clamp(12px, 6vw, 48px);
      box-sizing: border-box;
      margin: 0;
      gap: 24px;
    }
    .icon-button { display:flex; flex-direction:column; align-items:center; text-align:center; cursor:pointer; flex: 1 1 0; max-width: 120px; min-width: 72px; }
    .icon-button img { width:72px; height:72px; border-radius:50%; object-fit:cover; margin-bottom:8px; border:2px solid #fff; transition:transform .2s; box-shadow:0 2px 6px rgba(0,0,0,0.5); background:#222; }
    .icon-button img:hover { transform:scale(1.06); }
    .icon-button span { font-size:14px; color:#ddd; }

    .middle-box {
      background-color: #242424;
      border-radius:12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.4);
      padding:20px;
      min-height: 110px;
      text-align:center;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .middle-box span { font-size:16px; color:#ddd; }

    /* 모달 / 입력 등은 변경 없음 (기본) */
    .modal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; padding:20px; box-sizing:border-box; }
    .modal-content { width:420px; max-width: calc(100% - 40px); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:18px; border-radius:12px; color:white; box-shadow:0 10px 30px rgba(0,0,0,0.6); border:1px solid rgba(255,255,255,0.03); backdrop-filter: blur(6px) saturate(120%); display:flex; flex-direction:column; gap:12px; }

    /* =========================
       >>> 모달 내부 안정화 추가 규칙 (수정 사항)
       모달에만 적용되며 외부 레이아웃에 영향 주지 않음
       ========================= */
    /* 모달 내부 배치 기준을 모달 박스로 고정 */
    .modal-content {
      position: relative; /* 중요: 내부 절대 위치 요소들이 모달 박스 내부를 기준으로 위치하도록 함 */
      box-sizing: border-box;
      z-index: 1001;
    }

    /* 닫기 버튼이 항상 모달 내부 우상단에 위치하도록 (모달 외부 기준 아님) */
    .modal-close {
      position: absolute;
      top: 10px;
      right: 10px;
      background: transparent;
      color: #ddd;
      border: none;
      cursor: pointer;
      font-size: 20px;
      padding: 6px;
      border-radius: 8px;
      transition: background .15s, color .15s;
      z-index: 1010; /* 모달 콘텐츠보다 위에 보이게 */
    }
    .modal-close:hover { background: rgba(255,255,255,0.02); color:#fff; }

    /* 모달 브랜드/헤더 영역 정렬 */
    .modal-inner { display:flex; gap:12px; align-items:center; }
    .modal-brand { display:flex; gap:12px; align-items:center; }
    .modal-brand img { width:56px; height:56px; border-radius:8px; flex:0 0 auto; }
    .modal-brand h2 { margin:0; font-size:18px; }
    .modal-brand p { margin: 4px 0 0 0; color:#ccc; font-size:13px; }

    /* 입력 필드 블록 고정 (외부 스타일 영향 차단) */
    .field { display:block; margin-top:8px; width:100%; }
    input[type="email"], input[type="password"], input[type="text"] { width:100%; margin:8px 0 0 0; padding:12px 44px 12px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.06); background: rgba(0,0,0,0.4); color:#fff; outline:none; font-size:14px; box-sizing:border-box; }

    /* 비밀번호 필드 토글(눈 아이콘) 고정 위치 */
    .password-field { position: relative; }
    .password-field .pw-toggle {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      background: transparent;
      border: none; /* 테두리 제거 요청 반영 */
      color: #ddd;
      padding: 6px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      line-height: 1;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    /* 아이콘 내부 크기 조정 */
    .pw-toggle svg { width:18px; height:18px; display:block; }
    /* 기본: eye 아이콘 보임, eye-off 숨김. JS에서 토글 */
    .pw-toggle .icon-eye-off { display: none; }

    /* 모달 내 액션 라인 정렬 */
    .modal-actions { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:8px; }

    /* 대체 로그인 버튼(모달 내부) - 그룹에서 균등분배 */
    .alt-btn { flex:1; padding:8px 10px; background:transparent; border:1px solid rgba(255,255,255,0.06); color:#ddd; border-radius:8px; font-size:13px; cursor:pointer; }

    /* 닫기 등 접근성 키보드 포커스 안정성 */
    .modal-close:focus, .pw-toggle:focus, .primary-btn:focus, .alt-btn:focus { outline: 2px solid rgba(255,255,255,0.06); outline-offset: 2px; }

    /* 작게 줄어드는 화면에서 모달 폭을 더 안전하게 유지 */
    @media (max-width:480px) {
      .modal-content { width: calc(100% - 40px); max-width: calc(100% - 40px); padding:14px; }
      .modal-brand p { display:block; font-size:12px; color:#ccc; }
    }

    /* =========================
       기존 모달/입력 스타일 계속
       (이미 선언된 항목과 중복되지 않음)
       ========================= */

    .modal-close:hover { background: rgba(255,255,255,0.02); color:#fff; }
    .primary-btn { width:100%; background: linear-gradient(90deg,#0f61b0,#0a3e7a); color:#fff; box-shadow:0 6px 18px rgba(15,97,176,0.16); border:1px solid rgba(255,255,255,0.03); padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:bold; }

    /* 프리젠테이션 */
    .presentation-carousel { width:100%; height:170px; border-radius:10px; overflow:hidden; position:relative; background: linear-gradient(180deg,#2a2a2a,#232323); box-shadow: inset 0 1px 0 rgba(255,255,255,0.02); flex:0 0 170px; }
    .inner-slides { display:flex; width:100%; height:100%; transition: transform .6s ease-in-out; }
    .inner-slide { position:relative; flex:0 0 100%; height:100%; padding:14px; box-sizing:border-box; color:#fff; display:flex; flex-direction:column; justify-content:center; background-color:#2a2a2a; background-size:cover; background-position:center; background-repeat:no-repeat; transition: background-image .3s ease; }
    /* 변경: 슬라이드 내부 컨텐츠를 왼쪽 정렬로 조정 */
    .inner-slide { align-items: flex-start; } /* 왼쪽 정렬을 보장 */
    .inner-slide .slide-content { position:relative; z-index:2; max-width:78%; text-shadow:0 1px 2px rgba(0,0,0,0.7); text-align:left; margin-left:0; }
    .inner-slide::before { content:""; position:absolute; left:0; top:0; right:0; bottom:0; z-index:1; background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.5)); pointer-events:none; }
    .pres-title { font-size:18px; font-weight:bold; color:#ffea8a; margin-bottom:6px; }
    .pres-desc { font-size:13px; color:#ddd; line-height:1.4; }
    .pres-dots { position:absolute; bottom:8px; left:50%; transform:translateX(-50%); display:flex; gap:6px; z-index:5; }
    .pres-dot { width:8px; height:8px; border-radius:50%; background: rgba(255,255,255,0.18); cursor:pointer; transition: transform .15s, background .15s; }
    .pres-dot.active { background:#ffae42; transform: scale(1.2); }

    /* 하단 카드 */
    .sub-lower { display:flex; gap:12px; width:100%; box-sizing:border-box; flex:1 1 auto; }
    .popular-card, .recommend-card { background-color:#1e1e1e; border-radius:8px; padding:10px; box-shadow:0 1px 6px rgba(0,0,0,0.4); box-sizing:border-box; flex:1; min-height:100px; }
    .card-title { font-size:14px; color:#ffae42; font-weight:bold; margin-bottom:8px; }
    .popular-list { list-style:none; padding:0; margin:0; color:#ddd; font-size:13px; line-height:1.45; }
    .popular-list li { margin:6px 0; }
    .rec-banner { width:100%; height:80px; border-radius:6px; overflow:hidden; margin-bottom:8px; display:flex; align-items:center; justify-content:center; background: linear-gradient(90deg,#2b2b2b,#222); }
    .rec-banner img { max-width:100%; max-height:100%; object-fit:cover; }

    /* 뉴스 스트립 */
    #extraNewsContainer { margin:20px auto 24px auto; box-sizing:border-box; }
    #extraNewsWrapper { display:flex; gap:12px; overflow-x:auto; scroll-behavior:smooth; padding-bottom:6px; }
    .extra-card { flex:0 0 220px; background:#1f1f1f; border-radius:8px; overflow:hidden; box-shadow:0 1px 6px rgba(0,0,0,0.5); }

    /* IP 모달 스타일 */
    .ip-modal { display:none; position:fixed; z-index:2000; left:0; top:0; width:100%; height:100%; background: rgba(0,0,0,0.65); justify-content:center; align-items:center; padding:20px; box-sizing:border-box; }
    .ip-content { width:460px; max-width: calc(100% - 40px); background: rgba(12,12,12,0.90); border-radius:12px; padding:18px; color:#eee; position:relative; box-shadow:0 6px 30px rgba(0,0,0,0.6); overflow:hidden; }
    .ip-computer { position:absolute; top:12px; right:12px; width:84px; height:84px; display:flex; align-items:center; justify-content:center; pointer-events:none; opacity:0.98; }
    .ip-title { font-size:18px; font-weight:700; color:#ffea8a; margin-bottom:6px; }
    .ip-desc { font-size:13px; color:#d6d6d6; margin-bottom:12px; }
    .ip-loading { display:inline-flex; align-items:center; gap:10px; margin-bottom:12px; }
    .spinner { width:16px; height:16px; border-radius:50%; border:3px solid rgba(255,255,255,0.12); border-top-color:#ffae42; animation:spin 1s linear infinite; box-sizing:border-box; }
    @keyframes spin { to { transform: rotate(360deg); } }
    /* (가짜 검사 항목 제거됨) */
    .ip-final { margin-top:12px; padding:12px; border-radius:8px; background: rgba(255,255,255,0.03); color:#ffb3b3; font-weight:700; display:none; font-size:14px; }
    .ip-final.accept { color:#bff0b1; background: rgba(0,0,0,0.06); display:block; }
    .ip-actions { display:flex; justify-content:flex-end; gap:8px; margin-top:12px; }
    .ip-actions button { background:transparent; border:1px solid rgba(255,255,255,0.08); color:#ddd; padding:8px 10px; border-radius:6px; cursor:pointer; font-weight:600; }
    .ip-actions button.primary { background:#0f3b6d; border-color:#0f3b6d; color:#fff; }

    /* -----------------------------
       신설 커뮤니티: 공개용 표시 (스코프: 오른쪽 community-box에 한정)
       - 리스트 항목 앞에 작은 빨간 점 표시 (pseudo-element)
       - 각주는 리스트 아래에 작게 표시
       ----------------------------- */
    .community-section .community-box:last-of-type .community-list li.public {
      position: relative;
      padding-left: 18px; /* 점을 위한 여백 */
    }
    .community-section .community-box:last-of-type .community-list li.public::before {
      content: "";
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: linear-gradient(180deg, #ff7b7b, #ff3b3b);
      box-shadow: 0 1px 2px rgba(0,0,0,0.32);
      border: 1px solid rgba(255,255,255,0.06);
    }
    /* 각주(footnote) 스타일: 리스트 바로 아래, 크기는 작게, 눈에 너무 튀지 않도록 색상/크기 조정 */
    .community-section .community-box:last-of-type .footnote {
      margin-top: 10px;
      font-size: 12px;
      color: #d6d6d6;
      display: flex;
      align-items: center;
      gap: 8px;
      line-height: 1;
    }
    .community-section .community-box:last-of-type .footnote .dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: linear-gradient(180deg, #ff7b7b, #ff3b3b);
      box-shadow: 0 1px 2px rgba(0,0,0,0.32);
      border: 1px solid rgba(255,255,255,0.06);
      flex: 0 0 auto;
    }

  </style>
</head>
<body>

  <!-- 헤더 -->
  <header>
    <a href="index.html" class="logo" aria-label="홈으로 이동" style="color:inherit; text-decoration:none;">BANBLE LEON</a>
    <div class="auth-buttons">
      <a onclick="openModal('loginModal')">로그인</a>
      <a onclick="openModal('signupModal')">회원가입</a>
      <a id="logoutBtn" style="display:none;cursor:pointer;">로그아웃</a>
      <span id="userName" style="margin-left:15px; font-weight:bold; color:#ffcc00; display:none;"></span>
    </div>
  </header>

  <div class="site-content">

    <!-- 공지 -->
    <div class="notice-box">
      오늘의 공지: 새로운 이벤트가 시작되었습니다!
    </div>

    <!-- 슬라이더 -->
    <div class="slider" aria-hidden="false">
      <div class="slides">
        <img src="https://i.imgur.com/mL6RAMZ.png" alt="공지1">
        <img src="https://pimg.mk.co.kr/meet/neds/2020/11/image_readtop_2020_1182659_16055986074435325.jpg" alt="공지2">
        <img src="https://celcliptipsprod.s3-ap-northeast-1.amazonaws.com/tips_article_body/4c36/208331/7eb07261d46614eccf78b4ecdc7cd07a" alt="공지3">
      </div>
    </div>
    <div class="dots">
      <span class="dot active"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>

    <!-- 커뮤니티 섹션 -->
    <div class="community-section">
      <!-- 왼쪽 -->
      <div class="community-box">
        <div class="community-title">상위 커뮤니티</div>
        <ul class="community-list">
          <li><a href="#">로이친 그룹</a></li>
          <li><a href="#">르젤 커뮤니티</a></li>
          <li><a href="#">밴블리온 카페</a></li>
          <li><a href="#">명예의 관람관</a></li>
          <li><a href="#">D조 유니온 클럽</a></li>
          <li><a href="#">구글 프렌즈 모임</a></li>
          <li><a href="#">D조 유니온 클럽</a></li>
          <li><a href="#">에카놀 중앙 커뮤</a></li>
          <li><a href="#">유니온모 그룹방</a></li>
          <li><a href="#">유니온 A조 그룹</a></li>
        </ul>
      </div>

      <!-- 중앙 -->
      <div class="middle-column">
        <div class="icon-buttons">
          <div class="icon-button" onclick="location.href='start.html'">
            <img src="https://i.imgur.com/dsAyje0.png" alt="버튼1">
            <span>시작하기</span>
          </div>
          <div class="icon-button" onclick="location.href='together.html'">
            <img src="https://i.imgur.com/mmOgQb3.png" alt="버튼2">
            <span>모여보기</span>
          </div>
          <div class="icon-button" onclick="location.href='activity.html'">
            <img src="https://i.imgur.com/JUUM1a5.png" alt="버튼3">
            <span>주관활동</span>
          </div>
          <div class="icon-button" onclick="location.href='manager.html'">
            <img src="https://i.imgur.com/reAtoq0.png" alt="버튼4">
            <span>운영진들</span>
          </div>
        </div>

        <div class="middle-box" style="width:100%;">
          <div style="width:100%;">
            <div class="presentation-carousel" aria-label="프리젠테이션 섹션">
              <div class="inner-slides">
                <div class="inner-slide" data-bg="https://i.imgur.com/HOjNXrn.png">
                  <div class="slide-content">
                    <div class="pres-title">유니온 우리의 공간</div>
                    <div class="pres-desc">여러분의 활발한 활동은 밴블리온의 성장과 수익 확대에 보탬이 됩니다.</div>
                  </div>
                </div>

                <div class="inner-slide" data-bg="https://i.imgur.com/AsLxf9e.png">
                  <div class="slide-content">
                    <div class="pres-title">업데이트 알림</div>
                    <div class="pres-desc">시스템 점검이 예정되어 있습니다. 점검 시간 동안 일부 기능이 제한될 수 있습니다.</div>
                  </div>
                </div>

                <div class="inner-slide" data-bg="https://i.imgur.com/VhpnT3g.png">
                  <div class="slide-content">
                    <div class="pres-title">유피드 플랫폼</div>
                    <div class="pres-desc">유피드 커넥트 커뮤니케이션 플랫폼은 유니온 여러분들을 위해 밴블리온에서 "자체" 개발한 플랫폼입니다.</div>
                  </div>
                </div>
              </div>

              <div class="pres-dots" aria-hidden="false">
                <span class="pres-dot active" data-i="0"></span>
                <span class="pres-dot" data-i="1"></span>
                <span class="pres-dot" data-i="2"></span>
              </div>
            </div>

            <div class="sub-lower" style="margin-top:12px;">
          <div class="popular-card" aria-label="인기 게시물">
            <div class="card-title">인기 조회수 태그 순위</div>
            <ul class="popular-list">
              <li><a class="pop-link" href="#">#유니온 밴블리온 현실 지부</a></li>
              <li><a class="pop-link" href="#">#로이친 기획 서버 확장</a></li>
              <li><a class="pop-link" href="#">#차성진은 미친놈이다</a></li>
              <li><a class="pop-link" href="#">#로이친</a></li>
              <li><a class="pop-link" href="#">#레마's 공인 막말</a></li>
            </ul>
          </div>
              <div class="recommend-card" aria-label="추천 콘텐츠">
                <div class="card-title">추천 트렌드</div>
                <div class="rec-banner">
                  <img src="https://via.placeholder.com/420x140?text=추천+배너" alt="추천 배너">
                </div>
                <div class="rec-list">
                  - 최신 주요 트렌드: 신 지부<br>
                  - 인기 태그: #베로니 #수원 지부<br>
                  - 파트너 혜택: 추후 세부 제공
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 오른쪽 -->
      <div class="community-box">
        <div class="community-title">신설 커뮤니티</div>
        <ul class="community-list">
          <li><a href="#">김지원 조지는방</a></li>
          <li class="public"><a href="#">노르웨이</a></li>
          <li><a href="#">밴블리온 신 F조</a></li>
          <li class="public"><a href="#">가르다라</a></li>
          <li><a href="#">하즈의 놀이터</a></li>
          <li><a href="#">체베리 실험실</a></li>
          <li><a href="#">핵사인 잡담방</a></li>
          <li><a href="#">제미의 커뮤</a></li>
          <li><a href="#">밴블리온 올림픽</a></li>
          <li><a href="#">유니온 새벽 클럽</a></li>
        </ul>

        <!-- 요청하신 각주: 유니온 새벽 클럽 아래에 작게 표시 -->
        <div class="footnote" aria-hidden="false">
          <span class="dot" aria-hidden="true"></span>
          <span>은 공개용 서버 입니다</span>
        </div>
      </div>
    </div> <!-- community-section 끝 -->

    <!-- 뉴스 섹션 -->
    <div id="extraNewsContainer" class="site-content" style="padding:0;">
      <div id="extraNewsContainerInner" style="background:#242424; border-radius:10px; padding:12px; box-shadow:0 2px 10px rgba(0,0,0,0.45);">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
          <div style="font-size:16px; color:#ffae42; font-weight:bold;">뉴스 | 유핏이슈 | 밴블리온</div>
          <div style="display:flex; align-items:center; gap:8px;">
            <button id="extraPrev" aria-label="이전" style="background:transparent; border:1px solid #3a3a3a; color:#ddd; padding:6px 8px; border-radius:6px; cursor:pointer;">◀</button>
            <span id="extraPage" style="color:#bbb; font-size:13px;">1/1</span>
            <button id="extraNext" aria-label="다음" style="background:transparent; border:1px solid #3a3a3a; color:#ddd; padding:6px 8px; border-radius:6px; cursor:pointer;">▶</button>
          </div>
        </div>

        <div id="extraNewsWrapper" style="display:flex; gap:12px; overflow-x:auto; scroll-behavior:smooth; padding-bottom:6px;">
          <div class="extra-card">
            <img src="https://via.placeholder.com/420x240?text=썸네일1" alt="thumb1" style="width:100%; height:120px; object-fit:cover; display:block;">
            <div style="padding:10px; color:#ddd; font-size:14px; line-height:1.4;">
              경기도, 'DMZ OPEN 국제음악제' 26일 고양서 개막
            </div>
          </div>

          <div class="extra-card">
            <img src="https://via.placeholder.com/420x240?text=썸네일2" alt="thumb2" style="width:100%; height:120px; object-fit:cover; display:block;">
            <div style="padding:10px; color:#ddd; font-size:14px; line-height:1.4;">
              최휘영 장관 "전통문화, K콘텐츠 성장동력으로"
            </div>
          </div>

          <div class="extra-card">
            <img src="https://via.placeholder.com/420x240?text=썸네일3" alt="thumb3" style="width:100%; height:120px; object-fit:cover; display:block;">
            <div style="padding:10px; color:#ddd; font-size:14px; line-height:1.4;">
              트럼프, '틱톡 美 사업권 인수' 행정명령 서명
            </div>
          </div>

          <div class="extra-card">
            <img src="https://via.placeholder.com/420x240?text=썸네일5" alt="thumb5" style="width:100%; height:120px; object-fit:cover; display:block;">
            <div style="padding:10px; color:#ddd; font-size:14px; line-height:1.4;">
              문화예술 행사 안내: 지역 카페 대관 전시
            </div>
          </div>
        </div>

      </div>
    </div>

  </div> <!-- site-content 끝 -->

  <!-- IP modal (수정됨: 가짜 검사 제거, 실제 IP 조회 및 allowlist 체크) -->
  <div id="ipCheckModal" class="ip-modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="ip-content" role="document">
      <button class="ip-close" aria-label="닫기">&times;</button>
      <div class="ip-computer" aria-hidden="true">
        <svg width="80" height="80" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <rect x="4" y="10" width="56" height="36" rx="4" fill="#111827"/>
          <rect x="6" y="12" width="52" height="28" rx="2" fill="#1f2937"/>
          <rect x="8" y="15" width="48" height="6" rx="2" fill="#374151"/>
          <rect x="8" y="23" width="34" height="14" rx="1" fill="#0b1220"/>
          <rect x="44" y="23" width="12" height="12" rx="1" fill="#0b1220"/>
          <g transform="translate(44,23)">
            <rect x="2" y="1" width="8" height="8" rx="1" fill="#08121c"/>
            <path d="M6 0C4.344 0 3 1.344 3 3v1h6V3C9 1.344 7.656 0 6 0z" fill="#0ea5a4"/>
            <rect x="4" y="4" width="4" height="4" rx="0.5" fill="#062024"/>
          </g>
          <g transform="translate(2,38) scale(0.9)">
            <rect x="36" y="4" width="18" height="14" rx="2" fill="#0b1220" stroke="#94a3b8"/>
            <path d="M45 4c-3 0-5 2-5 5v3h10V9c0-3-2-5-5-5z" fill="#0ea5a4"/>
            <circle cx="45" cy="11" r="1.8" fill="#071126"/>
          </g>
        </svg>
      </div>

      <div style="padding-right:110px;">
        <div class="ip-title">IP 조회 중입니다</div>
        <div class="ip-desc">선택한 커뮤니티의 접속 IP를 실시간으로 검사합니다. 잠시만 기다려 주세요.</div>

        <div class="ip-loading" id="ipLoadingArea">
          <div class="spinner" aria-hidden="true" id="ipSpinner"></div>
          <div style="font-size:13px;color:#d6d6d6;">아이피 조회 중... <span id="ipDummy">(예: 203.***.***.***)</span></div>
        </div>

        <!-- 가짜 검사 요소 전부 제거됨 (요청 반영) -->

        <div class="ip-final" id="ipFinal">해당 아이피는 유니온 밴블리온의 서버에서 승인된 아이피가 아닙니다.</div>

        <div class="ip-actions">
          <!-- '다시 검사' 버튼 제거(요청 반영) -->
          <button id="ipCloseBtn" class="primary">닫기</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 로그인/회원가입 모달 (원본 유지, 단 요청사항 반영) -->
  <div id="loginModal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="loginTitle">
    <div class="modal-content" role="document">
      <button class="modal-close" onclick="closeModal('loginModal')" aria-label="닫기">&times;</button>
      <div class="modal-inner">
        <div class="modal-brand">
          <img src="https://i.imgur.com/FzKC3OX.png" alt="브랜드" style="width:56px;height:56px;border-radius:8px;">
          <div>
            <h2 id="loginTitle">로그인</h2>
            <p>계정으로 로그인하여 유피드 홀을 이용하세요.</p>
          </div>
        </div>
      </div>

      <div>
        <label class="field">
          <input type="email" id="loginEmail" placeholder="이메일" />
        </label>

        <label class="field password-field">
          <input type="password" id="loginPass" placeholder="비밀번호" />
          <!-- 눈 아이콘 버튼: 테두리 제거 & 이모티콘 -> SVG로 교체 -->
          <button type="button" class="pw-toggle" data-target="loginPass" aria-label="비밀번호 보기" title="비밀번호 보기">
            <!-- eye (보임 상태를 나타내는 기본 아이콘) -->
            <svg class="icon-eye" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M1.5 12C1.5 12 5.5 4 12 4s10.5 8 10.5 8-4 8-10.5 8S1.5 12 1.5 12Z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <!-- eye-off (숨김 상태로 바뀌면 보이게 됨) -->
            <svg class="icon-eye-off" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M3 3l18 18" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M17.94 17.94C16.31 19.05 14.24 19.74 12 19.74 6.5 19.74 2 12 2 12s2.41-3.32 6.07-5.24" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9.88 9.88A3 3 0 0114.12 14.12" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </label>

        <div class="modal-actions">
          <label style="font-size:13px;color:#ccc;"><input type="checkbox" id="rememberMe" style="margin-right:6px;"/> 로그인 유지</label>
          <!-- 비밀번호 찾기 링크 제거(요청 반영) -->
        </div>

        <button id="loginSubmit" class="primary-btn">로그인</button>

        <div style="display:flex;gap:8px;margin-top:8px;">
          <!-- 카카오/구글 버튼 대신 "계정 만들기" (회원가입 모달로 이동) -->
          <button id="openSignupFromLogin" class="alt-btn" type="button">계정 만들기</button>
        </div>
      </div>
    </div>
  </div>

  <div id="signupModal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="signupTitle">
    <div class="modal-content" role="document">
      <button class="modal-close" onclick="closeModal('signupModal')" aria-label="닫기">&times;</button>
      <div class="modal-inner">
        <div class="modal-brand">
          <img src="https://i.imgur.com/5fdGvm7.png" alt="회원가입" style="width:56px;height:56px;border-radius:8px;">
          <div>
            <h2 id="signupTitle">유피드 계정 생성</h2>
            <p>밴블리온의 유피드 서비스에 가입하세요</p>
          </div>
        </div>
      </div>

      <div>
        <label class="field">
          <input type="text" id="signupNickname" placeholder="닉네임" />
        </label>
        <label class="field">
          <input type="email" id="signupEmail" placeholder="이메일" />
        </label>
        <label class="field password-field">
          <input type="password" id="signupPass" placeholder="비밀번호" />
          <button type="button" class="pw-toggle" data-target="signupPass" aria-label="비밀번호 보기" title="비밀번호 보기">
            <svg class="icon-eye" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M1.5 12C1.5 12 5.5 4 12 4s10.5 8 10.5 8-4 8-10.5 8S1.5 12 1.5 12Z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <svg class="icon-eye-off" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M3 3l18 18" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M17.94 17.94C16.31 19.05 14.24 19.74 12 19.74 6.5 19.74 2 12 2 12s2.41-3.32 6.07-5.24" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9.88 9.88A3 3 0 0114.12 14.12" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </label>

        <button id="signupSubmit" class="primary-btn">회원가입</button>

        <div style="display:flex;gap:8px;margin-top:8px;">
          <!-- 이메일 인증 / 초대코드 사용 버튼 대신 "로그인 하기" (로그인 모달로 이동) -->
          <button id="openLoginFromSignup" class="alt-btn" type="button">로그인 하기</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Firebase 및 스크립트들 (원본 유지) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, updateProfile }
      from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBJZle3txhhthWgaIWTTHzrLl4bkJqQye4",
      authDomain: "fast-gateway-290809.firebaseapp.com",
      projectId: "fast-gateway-290809",
      storageBucket: "fast-gateway-290809.firebasestorage.app",
      messagingSenderId: "640433110514",
      appId: "1:640433110514:web:8fe4fafc9a987b6a4b3f6b",
      measurementId: "G-2V57XWX7CW"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    window.openModal = function(id) {
      document.getElementById(id).style.display = "flex";
    }
    window.closeModal = function(id) {
      document.getElementById(id).style.display = "none";
    }

    function updateHeader(user) {
      const userNameEl = document.getElementById("userName");
      const loginBtn = document.querySelector(".auth-buttons a[onclick*='loginModal']");
      const signupBtn = document.querySelector(".auth-buttons a[onclick*='signupModal']");
      const logoutBtn = document.getElementById("logoutBtn");

      if (user) {
        if (loginBtn) loginBtn.style.display = "none";
        if (signupBtn) signupBtn.style.display = "none";
        if (logoutBtn) logoutBtn.style.display = "inline-block";

        if (userNameEl) {
          const name = user.displayName || user.email || "사용자";
          userNameEl.textContent = name;
          userNameEl.style.display = "inline-block";
        }
      } else {
        if (loginBtn) loginBtn.style.display = "inline-block";
        if (signupBtn) signupBtn.style.display = "inline-block";
        if (logoutBtn) logoutBtn.style.display = "none";

        if (userNameEl) {
          userNameEl.textContent = "";
          userNameEl.style.display = "none";
        }
      }
    }

    document.getElementById("signupSubmit").addEventListener("click", async () => {
      const nickname = document.getElementById("signupNickname").value;
      const email = document.getElementById("signupEmail").value;
      const pass = document.getElementById("signupPass").value;
      try {
        const userCredential = await createUserWithEmailAndPassword(auth, email, pass);
        await updateProfile(userCredential.user, { displayName: nickname });
        updateHeader(userCredential.user);
        alert("회원가입 완료!");
        closeModal("signupModal");
      } catch (error) {
        alert("회원가입 실패: " + error.message);
      }
    });

    document.getElementById("loginSubmit").addEventListener("click", async () => {
      const email = document.getElementById("loginEmail").value;
      const pass = document.getElementById("loginPass").value;
      try {
        const userCredential = await signInWithEmailAndPassword(auth, email, pass);
        updateHeader(userCredential.user);
        alert("로그인 성공!");
        closeModal("loginModal");
      } catch (error) {
        alert("로그인 실패: " + error.message);
      }
    });

    document.getElementById("logoutBtn").addEventListener("click", async () => {
      await signOut(auth);
      updateHeader(null);
    });

    onAuthStateChanged(auth, (user) => {
      updateHeader(user);
    });
  </script>

  <!-- 슬라이더 스크립트 -->
  <script>
    let index = 0;
    const slides = document.querySelector(".slides");
    const dots = document.querySelectorAll(".dot");

    function showSlide(n) {
      index = n;
      if (slides) slides.style.transform = `translateX(${-n * 100}%)`;
      dots.forEach(dot => dot.classList.remove("active"));
      if (dots[n]) dots[n].classList.add("active");
    }

    function autoSlide() {
      const slideCount = slides ? slides.children.length : 1;
      index = (index + 1) % slideCount;
      showSlide(index);
    }

    dots.forEach((dot, i) => {
      dot.addEventListener("click", () => showSlide(i));
    });

    setInterval(autoSlide, 4000);
  </script>

  <!-- 중앙 프리젠테이션 스크립트 -->
  <script>
    (function() {
      const presSlides = document.querySelector(".inner-slides");
      const presDots = Array.from(document.querySelectorAll(".pres-dot"));
      if (!presSlides || presDots.length === 0) return;

      function applyBgToSlides() {
        const slides = Array.from(document.querySelectorAll('.inner-slide'));
        slides.forEach(slide => {
          const bg = slide.getAttribute('data-bg') || '';
          if (bg.trim()) slide.style.backgroundImage = `url("${bg}")`;
          else slide.style.backgroundImage = '';
        });
      }

      applyBgToSlides();

      let presIndex = 0;
      const presCount = presDots.length;

      function presShow(n) {
        presIndex = n;
        presSlides.style.transform = `translateX(${-n * 100}%)`;
        presDots.forEach(d => d.classList.remove("active"));
        presDots[n].classList.add("active");
      }

      function presAuto() {
        presIndex = (presIndex + 1) % presCount;
        presShow(presIndex);
      }

      presDots.forEach((dot, i) => {
        dot.addEventListener('click', () => {
          presShow(i);
          resetPresInterval();
        });
      });

      let presInterval = setInterval(presAuto, 5000);
      function resetPresInterval() { clearInterval(presInterval); presInterval = setInterval(presAuto, 5000); }

      presShow(0);
    })();
  </script>

  <!-- IP 체크 스크립트 (수정됨) -->
  <script>
    (function(){
      // 왼쪽 링크들(상위 커뮤니티)을 클릭하면 IP 모달을 엽니다.
      const leftLinks = document.querySelectorAll('.community-section .community-box:first-of-type .community-list a');

      const ipModal = document.getElementById('ipCheckModal');
      const ipClose = ipModal.querySelector('.ip-close');
      const ipCloseBtn = document.getElementById('ipCloseBtn');
      const ipFinal = document.getElementById('ipFinal');
      const ipDummy = document.getElementById('ipDummy');
      const ipSpinner = document.getElementById('ipSpinner');
      const ipLoadingArea = document.getElementById('ipLoadingArea');

      // 반드시 나중에 실제 허용 IP 목록 URL을 넣어주세요.
      // 예: const ALLOWLIST_URL = "https://example.com/allowlist.txt";
      const ALLOWLIST_URL = "REPLACE_WITH_ALLOWLIST_URL";

      // 유틸: IP 문자열 -> 32비트 정수
      function ipToInt(ip) {
        if (!ip) return null;
        const parts = ip.trim().split('.');
        if (parts.length !== 4) return null;
        return parts.reduce((acc, p) => (acc << 8) + (parseInt(p,10) & 0xff), 0) >>> 0;
      }

      // CIDR 포함 여부 검사
      function cidrContains(cidr, ip) {
        try {
          const [net, maskLenStr] = cidr.split('/');
          if (!maskLenStr) return false;
          const maskLen = parseInt(maskLenStr, 10);
          const ipInt = ipToInt(ip);
          const netInt = ipToInt(net);
          if (ipInt === null || netInt === null) return false;
          const mask = maskLen === 0 ? 0 : (~((1 << (32 - maskLen)) - 1)) >>> 0;
          return (ipInt & mask) === (netInt & mask);
        } catch (e) {
          return false;
        }
      }

      // allowlist 텍스트 파싱: 각 줄을 순회, CIDR 또는 단일 IP로 처리
      function parseAllowlistText(text) {
        const lines = String(text).split(/\r?\n/).map(l => l.trim()).filter(Boolean);
        return lines;
      }

      // 모달 열기 및 검사 실행
      async function openIpModal(communityName){
        // 초기화 표시
        ipModal.style.display = 'flex';
        ipModal.setAttribute('aria-hidden','false');
        ipSpinner.style.display = ''; // 보여주기
        ipFinal.style.display = 'none';
        ipDummy.textContent = '(조회중...)';

        // 1) 사용자 공인 IP 조회 (api.ipify 사용)
        let userIp = null;
        try {
          const res = await fetch('https://api.ipify.org?format=json', { cache: 'no-store' });
          if (res.ok) {
            const j = await res.json();
            if (j && j.ip) userIp = j.ip;
          }
        } catch (err) {
          // 실패 시 userIp는 null로 두고 아래에서 불허 팝업 처리
          userIp = null;
        }

        if (userIp) {
          ipDummy.textContent = userIp;
        } else {
          ipDummy.textContent = '(IP 조회 실패)';
        }

        // 2) allowlist 조회 및 검사
        // 기본 동작: allowlist로부터 일치 항목을 찾으면 모달 내부에서 승인 표시,
        // 일치하지 않거나 allowlist 호출 실패(CORS 등)면 새 창으로 "비승인" 메시지를 띄움.
        let allowlistText = null;
        let allowed = false;

        if (userIp) {
          try {
            // fetch allowlist (텍스트). 호출 주소는 관리자(사용자)가 REPLACE_WITH_ALLOWLIST_URL에 넣어야 함.
            const allowRes = await fetch(ALLOWLIST_URL, { cache: 'no-store' });
            if (allowRes.ok) {
              allowlistText = await allowRes.text();
            } else {
              allowlistText = null;
            }
          } catch (err) {
            allowlistText = null;
          }

          if (allowlistText) {
            const lines = parseAllowlistText(allowlistText);
            for (let entry of lines) {
              // entry가 CIDR 형식인지 확인
              if (entry.includes('/')) {
                if (cidrContains(entry, userIp)) {
                  allowed = true;
                  break;
                }
              } else {
                if (entry === userIp) {
                  allowed = true;
                  break;
                }
              }
            }
          }
        }

        // ipSpinner 숨기기
        ipSpinner.style.display = 'none';

        if (allowed) {
          // 승인된 IP - 모달 내부에서 승인 문구 표시 (녹색)
          ipFinal.textContent = '해당 아이피는 유니온 밴블리온의 서버에서 승인된 아이피입니다.';
          ipFinal.classList.add('accept');
          ipFinal.style.display = 'block';
          // 모달은 열린 상태로 유지 (사용자가 닫을 수 있음)
        } else {
          // 승인 실패 또는 allowlist 조회 실패 또는 IP 조회 실패 -> 새 창으로 거부 메시지 표시
          // 팝업 창 생성 (간단한 메시지)
          const popup = window.open('', '_blank', 'toolbar=0,location=0,menubar=0,width=520,height=220');
          if (popup) {
            popup.document.write(`
              <!doctype html>
              <html>
                <head>
                  <meta charset="utf-8">
                  <title>접속 거부 - 밴블리온</title>
                  <style>
                    body{font-family:Arial,Helvetica,sans-serif;background:#111;color:#fff;margin:0;display:flex;align-items:center;justify-content:center;height:100vh}
                    .box{max-width:460px;padding:18px;border-radius:10px;background:linear-gradient(180deg,#1a1a1a,#0d0d0d);box-shadow:0 6px 18px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.03)}
                    h1{font-size:18px;color:#ffb3b3;margin:0 0 8px 0}
                    p{margin:0;color:#ddd;line-height:1.5}
                    .ip{margin-top:10px;color:#ccc;font-weight:600}
                    button{margin-top:12px;padding:8px 10px;border-radius:8px;border:0;background:#0f3b6d;color:#fff;cursor:pointer}
                  </style>
                </head>
                <body>
                  <div class="box">
                    <h1>접속 거부</h1>
                    <p>해당 아이피는 밴블리온에서 승인된 IP가 아닙니다.</p>
                    <div class="ip">${userIp ? '검사된 IP: ' + userIp : 'IP 정보를 확인할 수 없습니다.'}</div>
                    <div style="text-align:right;"><button onclick="window.close()">닫기</button></div>
                  </div>
                </body>
              </html>
            `);
            popup.document.close();
          } else {
            // 팝업 차단 등으로 열리지 않을 경우, 대신 모달 내부에 불허 문구 표시
            ipFinal.textContent = '해당 아이피는 유니온 밴블리온의 서버에서 승인된 아이피가 아닙니다.';
            ipFinal.classList.remove('accept');
            ipFinal.style.display = 'block';
          }
          // 요청하신대로 새 창으로 메시지 띄운 뒤 모달은 닫아버립니다.
          closeIpModal();
        }
      }

      function clearIpTimers(){ /* 더 이상 타이머 사용 안함 (과거 코드 호환성) */ }

      function closeIpModal(){
        ipModal.style.display = 'none';
        ipModal.setAttribute('aria-hidden','true');
      }

      // 상위 커뮤니티 링크 클릭시 모달 오픈 및 검사 시작
      leftLinks.forEach(a => {
        a.addEventListener('click', (ev) => {
          ev.preventDefault();
          const name = (typeof a.textContent === 'string') ? a.textContent.trim() : '커뮤니티';
          openIpModal(name);
        });
      });

      // --- 추가: 오른쪽(신설 커뮤니티) 링크들 중 특정 항목(노르웨이, 가르다라)을 제외한
      // 나머지 링크들도 IP 조회 모달을 열도록 연결합니다.
      // (오직 이 동작만 추가됨 — 다른 코드/구조는 변경되지 않음)
      const rightLinks = document.querySelectorAll('.community-section .community-box:last-of-type .community-list a');
      // 제외할 커뮤니티 이름 (정확히 텍스트와 일치하는 항목은 모달을 열지 않음)
      const excluded = ['노르웨이', '가르다라'];

      rightLinks.forEach(a => {
        const txt = (a.textContent || '').trim();
        if (excluded.includes(txt)) {
          // 제외된 항목은 기존 동작 그대로 유지 (이 코드에서는 이벤트를 추가하지 않음)
          return;
        }
        a.addEventListener('click', (ev) => {
          ev.preventDefault();
          const name = txt || '커뮤니티';
          openIpModal(name);
        });
      });

      ipClose.addEventListener('click', closeIpModal);
      ipCloseBtn.addEventListener('click', closeIpModal);

      document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && ipModal.style.display === 'flex') closeIpModal(); });
      ipModal.addEventListener('click', (e) => { if (e.target === ipModal) closeIpModal(); });

    })();
  </script>

  <!-- 추가: 로그인/회원가입 모달 동작 보조 스크립트 (눈 토글, 모달 간 이동) -->
  <script>
    (function(){
      // 눈(비밀번호 보기) 토글 처리: 여러 pw-toggle 요소를 지원
      document.querySelectorAll('.pw-toggle').forEach(btn => {
        btn.addEventListener('click', () => {
          const targetId = btn.getAttribute('data-target');
          if (!targetId) return;
          const input = document.getElementById(targetId);
          if (!input) return;

          if (input.type === 'password') {
            input.type = 'text';
            // 보이는 상태: eye 아이콘은 숨기고 eye-off 보여주기
            const eye = btn.querySelector('.icon-eye');
            const eyeOff = btn.querySelector('.icon-eye-off');
            if (eye) eye.style.display = 'none';
            if (eyeOff) eyeOff.style.display = 'block';
            btn.setAttribute('aria-pressed','true');
            btn.title = "비밀번호 숨기기";
          } else {
            input.type = 'password';
            const eye = btn.querySelector('.icon-eye');
            const eyeOff = btn.querySelector('.icon-eye-off');
            if (eye) eye.style.display = 'block';
            if (eyeOff) eyeOff.style.display = 'none';
            btn.setAttribute('aria-pressed','false');
            btn.title = "비밀번호 보기";
          }
        });
      });

      // 모달 간 이동용 버튼: 로그인 -> 회원가입
      const openSignupFromLogin = document.getElementById('openSignupFromLogin');
      if (openSignupFromLogin) {
        openSignupFromLogin.addEventListener('click', () => {
          closeModal('loginModal');
          // 약간의 지연 없이 즉시 열기 (요청: 즉시 이동)
          openModal('signupModal');
        });
      }

      // 모달 간 이동용 버튼: 회원가입 -> 로그인
      const openLoginFromSignup = document.getElementById('openLoginFromSignup');
      if (openLoginFromSignup) {
        openLoginFromSignup.addEventListener('click', () => {
          closeModal('signupModal');
          openModal('loginModal');
        });
      }

      // 접근성: 엔터로 모달 닫기 등은 기존 로직(닫기 버튼)으로 처리
    })();
  </script>

  <!-- 뉴스 스트립 컨트롤 -->
  <script>
    (function(){
      const wrapper = document.getElementById('extraNewsWrapper');
      const prevBtn = document.getElementById('extraPrev');
      const nextBtn = document.getElementById('extraNext');
      const pageDisplay = document.getElementById('extraPage');
      if (!wrapper || !prevBtn || !nextBtn || !pageDisplay) return;

      function calcPages() {
        const visibleWidth = wrapper.clientWidth;
        const totalWidth = wrapper.scrollWidth;
        const pages = Math.max(1, Math.ceil(totalWidth / visibleWidth));
        return pages;
      }

      function updatePageDisplay() {
        const pages = calcPages();
        const current = Math.floor(wrapper.scrollLeft / wrapper.clientWidth) + 1;
        pageDisplay.textContent = `${Math.min(current,pages)}/${pages}`;
      }

      prevBtn.addEventListener('click', () => {
        wrapper.scrollBy({ left: -wrapper.clientWidth, behavior: 'smooth' });
        setTimeout(updatePageDisplay, 450);
      });
      nextBtn.addEventListener('click', () => {
        wrapper.scrollBy({ left: wrapper.clientWidth, behavior: 'smooth' });
        setTimeout(updatePageDisplay, 450);
      });

      let _t;
      wrapper.addEventListener('scroll', () => {
        if (_t) clearTimeout(_t);
        _t = setTimeout(() => updatePageDisplay(), 120);
      });
      window.addEventListener('resize', () => setTimeout(updatePageDisplay, 200));
      updatePageDisplay();
    })();
  </script>

   <!-- 사이트 푸터 -->
  <footer style="background:#111; color:#ccc; font-size:12px; padding:20px; text-align:center; line-height:1.5;">
    
    <a href="library.html?section=terms" style="color:#ccc; text-decoration:none; margin:0 4.5px;">이용약관</a> |
    <a href="library.html?section=privacy" style="color:#ccc; text-decoration:none; margin:0 4.5px;">개인정보 처리방침</a> |
    <a href="library.html?section=server" style="color:#ccc; text-decoration:none; margin:0 4.5px;">유피드 자산 데이터 서버 지침</a> |
    <a href="library.html?section=notice" style="color:#ccc; text-decoration:none; margin:0 4.5px;">밴블리온 운영부 고지 사항</a> |
    <a href="library.html?section=community" style="color:#ccc; text-decoration:none; margin:0 4.5px;">커뮤니티 가이드라인</a>
    </div>
    <div style="margin-top:9px;">
      유피드는 밴블리온 사 프로그램 개발 부서 "에너자이저"의 공식 인트라넷 플랫폼으로, 모든 사이트 내 정보는 사이트 자산사의 목적에 한해 제한되고 관리될 수 있습니다.
    </div>
    <div style="margin-top:9px;">
      경기도 수원시 밴블리온 수원 지부 미공개 위치<br>
      help@upid.org | 오픈 소스 라이선스<br>
      ©UPID Foundation.
    </div>

     <!-- 로고 일렬 추가 -->
  <div style="margin-top:15px; display:flex; justify-content:center; flex-wrap:wrap; gap:15px;">
    <img src="https://i.imgur.com/cNs1Eg7.png" alt="Logo1" style="height:30px;">
    <img src="https://i.imgur.com/SF42CN6.png" alt="Logo2" style="height:30px;">
    <img src="https://i.imgur.com/2pz9w9f.png" alt="Logo3" style="height:30px;">
    <img src="https://i.imgur.com/SfRsyh4.png" alt="Logo4" style="height:30px;">
    <img src="https://i.imgur.com/IS5OcvD.png" alt="Logo5" style="height:30px;">
    <img src="https://i.imgur.com/7uI8nfn.png" alt="Logo6" style="height:30px;">
    <img src="https://i.imgur.com/yccwqmB.png" alt="Logo7" style="height:30px;">
    <img src="https://i.imgur.com/mHH406e.png" alt="Logo8" style="height:30px;">
    <img src="https://i.imgur.com/tc4GZfM.png" alt="Logo9" style="height:30px;">
              <div style="width:1px; height:30px; background:#444;"></div>
    <img src="https://i.imgur.com/cHJBLaF.png" alt="Logo10" style="height:30px;">
  </div>
  </footer>

</body>
</html>
